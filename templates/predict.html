{% extends "layout.html" %}

{% block content %}
<div id="predict-card" class="content-card">
    <h2 class="card-title text-center mb-4">Enter Flight Details</h2>
    <form action="/predict" method="post" novalidate>
        {{ fo.hidden_tag() }}

        <div class="row">
            <div class="col-md-6">
                <div class="mb-3 form-field">
                    {{ fo.airline.label(class="form-label") }}
                    {{ fo.airline(class="form-select") }}
                    {% if fo.airline.errors %}<div class="invalid-feedback d-block">{% for er in fo.airline.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.source.label(class="form-label") }}
                    {{ fo.source(class="form-select") }}
                    {% if fo.source.errors %}<div class="invalid-feedback d-block">{% for er in fo.source.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.dep_time.label(class="form-label") }}
                    {{ fo.dep_time(class="form-control", type="time") }}
                    {% if fo.dep_time.errors %}<div class="invalid-feedback d-block">{% for er in fo.dep_time.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.duration.label(class="form-label") }}
                    {{ fo.duration(class="form-control", placeholder="e.g., 2h 30m") }}
                    {% if fo.duration.errors %}<div class="invalid-feedback d-block">{% for er in fo.duration.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.additional_info.label(class="form-label") }}
                    {{ fo.additional_info(class="form-select") }}
                    {% if fo.additional_info.errors %}<div class="invalid-feedback d-block">{% for er in fo.additional_info.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
            </div>

            <div class="col-md-6">
                <div class="mb-3 form-field">
                    {{ fo.date_of_journey.label(class="form-label") }}
                    {{ fo.date_of_journey(class="form-control", type="date") }}
                    {% if fo.date_of_journey.errors %}<div class="invalid-feedback d-block">{% for er in fo.date_of_journey.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.destination.label(class="form-label") }}
                    {{ fo.destination(class="form-select") }}
                    {% if fo.destination.errors %}<div class="invalid-feedback d-block">{% for er in fo.destination.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.arrival_time.label(class="form-label") }}
                    {{ fo.arrival_time(class="form-control", type="time") }}
                    {% if fo.arrival_time.errors %}<div class="invalid-feedback d-block">{% for er in fo.arrival_time.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="mb-3 form-field">
                    {{ fo.total_stops.label(class="form-label") }}
                    {{ fo.total_stops(class="form-select") }}
                    {% if fo.total_stops.errors %}<div class="invalid-feedback d-block">{% for er in fo.total_stops.errors %}<span>{{ er }}</span>{% endfor %}</div>{% endif %}
                </div>
            </div>
        </div>
        
        <div class="mt-4 text-center submit-button-wrapper">
            {{ fo.submit(class="btn btn-primary btn-lg w-50") }}
        </div>
    </form>

    {% if output %}
    <div class="mt-5 text-center result-box">
        <hr style="border-top: 1px solid var(--border-color);">
        <h3 class="mb-3" style="color: var(--text-secondary);">Predicted Flight Price:</h3>
        <div class="alert alert-success d-inline-block p-3">
            <h2 class="fw-bold mb-0">{{ output }}</h2>
        </div>
    </div>
    {% endif %}
    
    <div class="mt-4 text-center">
      <a href="{{ url_for('h') }}" class="btn btn-link">‚Üê Back to Home</a>
    </div>
</div>
{% endblock %}
